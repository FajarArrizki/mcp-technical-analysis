import type { PackageManagerInfo, MCPServerMetadata } from "../types/index.js";
export declare class PackageManager {
    private packageManagerInfo;
    private dependencyAnalyzer;
    detectPackageManager(): Promise<PackageManagerInfo>;
    private getPackageManagerInfo;
    installPackage(source: string, serverName: string): Promise<void>;
    removePackage(packageName: string): Promise<void>;
    getInstalledMCPPackages(): Promise<string[]>;
    getMCPPackageMetadata(serverName: string): Promise<MCPServerMetadata | undefined>;
    cleanupRemovedServers(currentServers: string[]): Promise<void>;
    private readPackageJson;
    private writePackageJson;
    private addMCPMetadata;
    private removeMCPMetadata;
    /**
     * Analyze a dependency after installation to extract metadata
     */
    private analyzeDependency;
    /**
     * Get detailed metadata for installed MCP servers including dependency analysis
     */
    getInstalledMCPServersWithMetadata(): Promise<Record<string, MCPServerMetadata>>;
    /**
     * Get dependencies with wrangler configs
     */
    getDependenciesWithWranglerConfigs(): Promise<Array<{
        name: string;
        dependencyPath: string;
        wranglerConfigPath?: string;
        serviceName?: string;
    }>>;
    private extractPackageName;
    /**
     * Add or update scripts in package.json
     */
    addScripts(scripts: Record<string, string>): Promise<void>;
    /**
     * Check if a script exists in package.json
     */
    hasScript(scriptName: string): Promise<boolean>;
    /**
     * Get a script command from package.json
     */
    getScript(scriptName: string): Promise<string | undefined>;
    /**
     * Add to postinstall script (creating or appending)
     */
    addToPostinstall(command: string): Promise<void>;
    /**
     * Run a script if it exists
     */
    runScript(scriptName: string): Promise<boolean>;
}
//# sourceMappingURL=package-manager.d.ts.map